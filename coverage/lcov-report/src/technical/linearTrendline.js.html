<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/technical/linearTrendline.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">src/technical/</a> linearTrendline.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">61.54% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>24/39</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/0</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">11.11% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>1/9</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">74.19% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>23/31</span>
      </div>
    </div>
  </div>
  <div class='status-line medium'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">const sum = <span class="fstat-no" title="function not covered" >(arr, valFunc) =&gt; <span class="cstat-no" title="statement not covered" >arr.reduce(<span class="fstat-no" title="function not covered" >(acc, v) =&gt; <span class="cstat-no" title="statement not covered" >acc + valFunc(v), 0);</span></span></span></span>
&nbsp;
export default <span class="fstat-no" title="function not covered" >data =&gt; {</span>
    const <span class="cstat-no" title="statement not covered" >n = data.length;</span>
    const <span class="cstat-no" title="statement not covered" >a = n * sum(data, <span class="fstat-no" title="function not covered" >v =&gt; <span class="cstat-no" title="statement not covered" >v[0] * v[1]);</span></span></span>
    const <span class="cstat-no" title="statement not covered" >b = sum(data, <span class="fstat-no" title="function not covered" >v =&gt; <span class="cstat-no" title="statement not covered" >v[0]) * sum(data, <span class="fstat-no" title="function not covered" >v =&gt; <span class="cstat-no" title="statement not covered" >v[1]);</span></span></span></span></span>
    const <span class="cstat-no" title="statement not covered" >c = n * sum(data, <span class="fstat-no" title="function not covered" >v =&gt; <span class="cstat-no" title="statement not covered" >v[0] ** 2);</span></span></span>
    const <span class="cstat-no" title="statement not covered" >d = sum(data, <span class="fstat-no" title="function not covered" >v =&gt; <span class="cstat-no" title="statement not covered" >v[0]) ** 2;</span></span></span>
    const <span class="cstat-no" title="statement not covered" >slope = (a - b) / (c - d);</span>
    console.<span class="cstat-no" title="statement not covered" >log(n, a, b, c, d, slope);</span>
    console.<span class="cstat-no" title="statement not covered" >log(data[0][0], data[0][1], data[1][0], data[0][1] * slope);</span>
};
&nbsp;
&nbsp;
export function linear (xData, yData, periods) {
&nbsp;
    var		lineData = [],
            step1,
            step2 = 0,
            step3 = 0,
            step3a = 0,
            step3b = 0,
            step4 = 0,
            step5 = 0,
            step5a = 0,
            step6 = 0,
            step7 = 0,
            step8 = 0,
            step9 = 0,
            step10 = 0;
&nbsp;
&nbsp;
    // Step 1: The number of data points.
    step1 = xData.length;
&nbsp;
    // Step 2: "step1" times the summation of all x-values multiplied by their corresponding y-values.
    // Step 3: Sum of all x-values times the sum of all y-values. 3a and b are used for storing data.
    // Step 4: "step1" times the sum of all squared x-values.
    // Step 5: The squared sum of all x-values. 5a stores data.
    // Step 6: Equation to calculate the slope of the regression line.
    // Step 7: The sum of all y-values.
    // Step 8: "step6" times the sum of all x-values (step5).
    // Step 9: The equation for the y-intercept of the trendline.
    for ( var i = 0; i &lt; step1; i++) {
        step2 = (step2 + (xData[i] * yData[i]));
        step3a = (step3a + xData[i]);
        step3b = (step3b + yData[i]);
        step4 = (step4 + Math.pow(xData[i], 2));
        step5a = (step5a + xData[i]);
        step7 = (step7 + yData[i]);
    }
    step2 = (step1 * step2);
    step3 = (step3a * step3b);
    step4 = (step1 * step4);
    step5 = (Math.pow(step5a, 2));
    step6 = ((step2 - step3) / (step4 - step5));
    step8 = (step6 * step5a);
    step9 = ((step7 - step8) / step1);
&nbsp;
    // Step 10: Plotting the trendline. Only two points are calulated.
    // The starting point.
    // This point will have values equal to the first X and Y value in the original dataset.
    lineData.push([xData[0] , yData[0]]);
&nbsp;
    // Calculating the ending point.
    // The point X is equal the X in the original dataset.
    // The point Y is calculated using the function of a straight line and our variables found.
    step10 = ( ( step6 * xData[step1 - 1] ) + step9 );
    lineData.push([ ( xData[step1 - 1] ), step10 ]);
&nbsp;
    return lineData;
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Apr 13 2016 11:00:47 GMT+0800 (MYT)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
